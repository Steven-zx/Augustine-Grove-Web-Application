<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link  href="../dist/output.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>


<title>Augustine Grove</title> <link rel="icon" type="image/x-icon" href="favicon.ico">

  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">

  <link  href="../dist/output.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

</head>
<body class="bg-[#FAF1E6]">

<!-- Nav BAr -->
<nav class="sticky top-0 z-50 flex items-center justify-between bg-[#5F8B4C] px-4 md:px-6 py-2 text-white backdrop-blur-sm">
  <a href="/index.html" class="flex items-center gap-2">
    <img src="/pictures/logo 2.png" alt="Logo" class="h-8 w-auto md:h-12 lg:h-16">
    <span class="text-lg md:text-2xl font-bold">AUGUSTINE GROVE</span>
  </a>

  <!-- Hamburger Button -->
  <button id="menu-btn" class="block md:hidden focus:outline-none transition-transform duration-300" aria-label="Toggle Menu">
    <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
  </button>

  <!-- Desktop Menu -->
  <div id="menu-desktop" class="hidden md:flex flex-row items-center gap-6">
    <ul class="flex flex-row gap-8 text-md font-semibold font-poppins">
      <li><a href="/pages/dashboard/announcements.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Announcements</a></li>
      <li><a href="/pages/dashboard/amenities.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Amenities</a></li>
      <li><a href="/pages/dashboard/gallery.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Gallery</a></li>
      <li><a href="/pages/dashboard/aboutpage.html" class="hover:text-[#FFDDAB] transition-colors duration-200">About</a></li>
    </ul>
  
    <!--profile button-->
<div class="relative">
  <button id="profileBtn" class="focus:outline-none">
    <img src="/pictures/profile.png" alt="Profile" class="h-8 w-8 rounded-full">
  </button>

  <!-- Modal Dropdown -->
  <div id="profileModal" class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg hidden z-50">
    <a href="/pages/profile.html" class="flex items-center gap-2 px-4 py-2 text-sm text-gray-700 font-bold hover:bg-gray-100">
      <img src="/pictures/profilegreen_icon.png" alt="Profile" class="h-6 w-6">
      Profile
    </a>
    <button onclick="logout()" class="flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 font-bold hover:bg-gray-100">
      <img src="/pictures/logout_icon.png" alt="Logout" class="h-5 w-5">
      Log Out
    </button>
  </div>
</div>

  </div>

  <!-- Mobile Slide-in Menu -->
 <div id="sidebar"
  class="fixed top-0 right-0 h-screen w-2/3 bg-white overflow-y-auto transform translate-x-full transition-transform duration-300 z-50 shadow-lg md:hidden hidden">

    <div class="flex items-center justify-between p-4 border-b border-gray-300">
      <h2 class="text-lg font-bold text-[#5F8B4C]">Menu</h2>
      <button id="close-btn" class="text-[#5F8B4C]">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Profile Card -->
    <div class="bg-[#FAF1E6] rounded-xl shadow-md mx-6 my-6 p-4 flex items-center gap-4">
      <img src="/pictures/profilegreen_icon.png" alt="Profile Icon" class="h-10 w-10 rounded-full object-cover">
      <div class="text-left">
        <p class="font-semibold text-[#5F8B4C]">John Smith</p>
      </div>
    </div>

    <!-- Nav Links -->
    <ul class="flex flex-col gap-6 text-[#5F8B4C] font-semibold px-8">
      <li><a href="/pages/dashboard/announcement_detail.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Announcements</a></li>
      <li><a href="/pages/dashboard/amenities.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Amenities</a></li>
      <li><a href="/pages/dashboard/gallery.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Gallery</a></li>
      <li><a href="/pages/dashboard/aboutpage.html" class="hover:text-[#FFDDAB] transition-colors duration-200">About</a></li>
    </ul>
    

<!-- Bottom Log Out Button -->
<div class="w-full text-center mt-20 mb-6">
  <button class="bg-[#FAF1E6] text-[#5F8B4C] px-6 py-2 rounded-full hover:bg-green-700 font-semibold w-32">
    Log Out
  </button>
  </div>
  
</div>
</nav>

<section id="hero" class="relative h-[28rem] sm:h-[32rem] md:h-screen overflow-hidden bg-black">
  <!-- Slide Container -->
  <div id="slider" class="flex w-full h-full transition-transform duration-1000 ease-in-out">
    <img src="/pictures/hero1.png" class="w-full h-full object-cover flex-shrink-0" />
    <img src="/pictures/hero2.png" class="w-full h-full object-cover flex-shrink-0" />
    <img src="/pictures/hero3.png" class="w-full h-full object-cover flex-shrink-0" />
    <img src="/pictures/hero4.png" class="w-full h-full object-cover flex-shrink-0" />
  </div>

  <!-- Text & Buttons -->
  <div class="absolute top-0 left-0 w-full h-full flex flex-col items-center justify-center text-center z-20 px-4">
    <h1 class="font-bold text-base sm:text-lg md:text-4xl mb-2 sm:mb-4 md:mb-10 text-[#FAF1E6]">WELCOME TO</h1>
    <h1 class="font-custom text-4xl sm:text-6xl md:text-9xl mb-4 sm:mb-8 md:mb-20 text-outline leading-tight">Augustine Grove</h1>
    
    <div class="flex flex-col sm:flex-row gap-4 sm:gap-10 md:gap-20 justify-center items-center">
      <a href="announcements.html" class="font-bold bg-[#5F8B4C] hover:bg-green-700 text-white text-sm sm:text-base md:text-xl px-6 py-2 sm:py-3 sm:px-12 md:px-20 rounded-full transition transform hover:scale-105 duration-300">
        Updates &gt;
      </a>              
      <a href="amenities.html" class="font-bold bg-[#E6DCD0] hover:bg-[#d6cfc0] text-[#5F8B4C] text-sm sm:text-base md:text-xl px-6 py-2 sm:py-3 sm:px-12 md:px-20 rounded-full border-2 border-[#5F8B4C] transition transform hover:scale-105 duration-300">
        Amenities
      </a>
    </div>

    <!-- Dot Indicators -->
    <div id="carousel-dots" class="mt-6 sm:mt-10 md:mt-20 flex justify-center gap-2 sm:gap-4">
      <div class="w-6 sm:w-8 md:w-10 h-1 sm:h-2 rounded-full bg-[#5F8B4C] transition-all duration-300"></div>
      <div class="w-6 sm:w-8 md:w-10 h-1 sm:h-2 rounded-full bg-[#FAF1E6] transition-all duration-300"></div>
      <div class="w-6 sm:w-8 md:w-10 h-1 sm:h-2 rounded-full bg-[#FAF1E6] transition-all duration-300"></div>
      <div class="w-6 sm:w-8 md:w-10 h-1 sm:h-2 rounded-full bg-[#FAF1E6] transition-all duration-300"></div>
    </div>
  </div>
</section>



<!-- Map -->
      <section class="bg-[#FAF1E6] p-10 md:px-40 md:py-20 flex flex-col md:flex-row items-center gap-12">
        <div class="w-full md:w-1/2">
            <h1 class="text-xl md:text-2xl font-bold mb-4">Augustine Community Map</h1>
            <img src="/pictures/AG Map 1.png" alt="Community Map" class="rounded-[80px] border-2 border-[#5F8B4C] shadow-lg w-full max-h-[500px] object-contain mx-auto">
        </div>
        <div class="w-full md:w-1/2">
          <h2 class="text-xl font-bold mb-4">Overview</h2>
          <p class="text-gray-700 mb-6">
            Augustine Grove is a premiere residential village nestled in Iloilo City, Western Visayas, Philippines, renowned for 
            its quality and elegant living spaces designed for comfort, refinement, and convenience. Residents enjoy access to various 
            amenities including a multi-purpose hall for events, a basketball court for recreation, and a refreshing swimming pool. 
            Its strategic location offers proximity to a range of establishments such as shops, schools, churches, restaurants, and 
            malls, ensuring everyday needs are easily met.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-[#f5ebdd] p-4 rounded-lg shadow-md text-center"   data-aos="fade-up" data-aos-delay="100">
              <img src="/pictures/security_icon.png" alt="Secure" class="h-12 mx-auto mb-2">
              <h3 class="font-bold text-lg">SECURE</h3>
              <p>Safe and sound living</p>
            </div>
            <div class="bg-[#f5ebdd] p-4 rounded-lg shadow-md text-center"  data-aos="fade-up" data-aos-delay="100">
              <img src="/pictures/peaceful_icon.png" alt="Peaceful" class="h-12 mx-auto mb-2">
              <h3 class="font-bold text-lg">PEACEFUL</h3>
              <p>A peaceful place to call home</p>
            </div>
            <div class="bg-[#f5ebdd] p-4 rounded-lg shadow-md text-center"  data-aos="fade-up" data-aos-delay="100">
              <img src="/pictures/convenient_icon.png" alt="Convenient" class="h-12 mx-auto mb-2">
              <h3 class="font-bold text-lg">CONVENIENT</h3>
              <p>Ease at your doorstep</p>
            </div>
          </div>
          <div class="flex justify-center mt:16 md:justify-end mt-4">
          <a href="/pages/dashboard/aboutpage.html" class="font-bold hover:underline text-[#5F8B4C] text-sm md:text-base px-6 py-3">Learn More &gt;</a>
        </div>
        </div>
      </section>

<!-- Announcements -->
<section class="bg-[#ffe5bd] py-12 px-8 md:px-40">
  <div class="container mx-auto px-4">
  
    <!-- Header -->
    <div class="flex flex-col md:flex-row items-center justify-between mb-8 gap-4 md:gap-0">
      <h2 class="text-xxl md:text-2xl font-bold">Latest Community Updates</h2>
      <a href="/pages/dashboard/announcements.html" class="text-[#5F8B4C] font-bold hover:underline text-sm md:text-base md:px-3 md:py-3">View More ></a>
    </div>

    <div class="relative">
      <!-- Carousel -->
      <div id="carousel" class="flex overflow-x-auto no-scrollbar scroll-smooth space-x-6 pb-4">
        <!-- Announcement cards will be inserted here by JavaScript -->
      </div>

      <!-- Buttons -->
      <button id="prev" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 flex items-center justify-center drop-shadow-md hover:scale-110 transition-transform">
        <i class="fa-solid fa-circle-chevron-left text-4xl text-[#5F8B4C]"></i>
      </button>

      <button id="next" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-10 h-10 md:w-12 md:h-12 flex items-center justify-center drop-shadow-md hover:scale-110 transition-transform">
        <i class="fa-solid fa-circle-chevron-right text-4xl text-[#5F8B4C]"></i>
      </button>
    </div>
  </div>
</section>

<!-- Announcement Card Template -->
<template id="announcement-card-template">
  <div class="flex-shrink-0 w-[280px] md:w-[350px] bg-white p-6 rounded-3xl shadow-md h-[430px] md:h-[500px] flex flex-col">
    <img src="" alt="Announcement Image" class="rounded-2xl mb-4 h-44 object-cover announcement-img">
    <div class="flex justify-between items-center mb-2">
      <h3 class="text-lg md:text-xl font-bold text-left announcement-title"></h3>
      <div class="flex items-center gap-1">
        <i class="fa-solid fa-user text-[#5F8B4C] text-xs"></i>
        <span class="text-gray-500 text-sm text-right announcement-author">Admin</span>
      </div>
    </div>
    <p class="text-gray-700 text-sm flex-grow overflow-hidden mb-4 announcement-description"></p>
    <div class="flex justify-between items-center mt-auto">
      <p class="text-gray-500 text-xs announcement-date"></p>
      <a class="bg-[#5F8B4C] text-white px-4 py-2 rounded-2xl hover:bg-green-700 text-xs announcement-readmore">Read More</a>
    </div>
  </div>
</template>


        </div>
      </section>

<!-- Amenities Section -->
<section class="bg-[#FAF1E6] py-16 px-8 md:px-20">
  <div class="text-center mb-12">
    <h2 class="text-xl md:text-2xl font-bold text-[#5F8B4C] mb-2">Our Services and Amenities</h2>
    <p class="text-gray-700 font-semibold">Enjoy the perfect balance of convenience, peace, and community living.</p>
  </div>

  <div class="flex flex-col items-center gap-12">
    
    <!-- Top Row: 3 Cards -->
    <div class="flex flex-col md:flex-row gap-8">
      <!-- Clubhouse -->
      <div class="relative bg-[#E6DCD0] rounded-3xl shadow-md p-8 flex flex-col items-center text-center w-[280px] md:w-[300px]">
        <div class="absolute -top-8">
          <div class="bg-white p-3 rounded-xl shadow-md">
            <img src="/pictures/clubhouse_icon.png" alt="Clubhouse Icon" class="w-12 h-12">
          </div>
        </div>
        <h3 class="text-lg md:text-xl font-bold mt-8 mb-2">Clubhouse</h3>
        <p class="text-gray-700 mb-6 text-sm">Enjoy the perfect balance of convenience, peace, and community living.</p>
        <a href="/pages/dashboard/amenities.html" class="bg-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-200">
  <i class="fa-solid fa-arrow-right text-[#5F8B4C] text-sm"></i>
</a>

      </div>

      <!-- Swimming Pool -->
      <div class="relative bg-[#E6DCD0] rounded-3xl shadow-md p-8 flex flex-col items-center text-center w-[280px] md:w-[300px]">
        <div class="absolute -top-8">
          <div class="bg-white p-3 rounded-xl shadow-md">
            <img src="/pictures/pool_icon.png" alt="Swimming Pool Icon" class="w-12 h-12">
          </div>
        </div>
        <h3 class="text-lg md:text-xl font-bold mt-8 mb-2">Swimming Pool</h3>
        <p class="text-gray-700 mb-6 text-sm">Enjoy the perfect balance of convenience, peace, and community living.</p>
        <a href="pages/dashboard/amenities.html" class="bg-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-200">
  <i class="fa-solid fa-arrow-right text-[#5F8B4C] text-sm"></i>
</a>

      </div>

      <!-- Basketball Court -->
      <div class="relative bg-[#E6DCD0] rounded-3xl shadow-md p-8 flex flex-col items-center text-center w-[280px] md:w-[300px]">
        <div class="absolute -top-8">
          <div class="bg-white p-3 rounded-xl shadow-md">
            <img src="/pictures/court_icon.png" alt="Basketball Court Icon" class="w-12 h-12">
          </div>
        </div>
        <h3 class="text-lg md:text-xl font-bold mt-8 mb-2">Basketball Court</h3>
        <p class="text-gray-700 mb-6 text-sm">Enjoy the perfect balance of convenience, peace, and community living.</p>
        <a href="/pages/dashboard/amenities.html" class="bg-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-200">
  <i class="fa-solid fa-arrow-right text-[#5F8B4C] text-sm"></i>
</a>

      </div>
    </div>
 
    <!-- Bottom Row: 2 Cards - Now Horizontal -->
<div class="flex flex-col md:flex-row justify-center items-center gap-8 md:mt-4 mt-8 px-4">
  <!-- Security Card -->
  <div class="relative bg-[#E6DCD0] rounded-3xl shadow-md p-8 flex flex-col items-center text-center w-[280px] md:w-[300px]">
    <div class="absolute -top-8">
      <div class="bg-white p-3 rounded-xl shadow-md">
        <img src="/pictures/security2_icon.png" alt="Security Icon" class="w-12 h-12">
      </div>
    </div>
    <h3 class="text-lg md:text-xl font-bold mt-8 mb-2">Security</h3>
    <p class="text-gray-700 mb-6 text-sm">Enjoy the perfect balance of convenience, peace, and community living.</p>
    <button onclick="openQRModal()" class="bg-white px-4 py-2 rounded-full hover:bg-gray-200 text-sm">
      Generate QR
    </button>
  </div>

  <!-- Park and Playground Card -->
  <div class="relative bg-[#E6DCD0] rounded-3xl shadow-md p-8 flex flex-col items-center text-center w-[280px] md:w-[300px]">
    <div class="absolute -top-8">
      <div class="bg-white p-3 rounded-xl shadow-md">
        <img src="/pictures/park_icon.png" alt="Park Icon" class="w-12 h-12">
      </div>
    </div>
    <h3 class="text-lg md:text-xl font-bold mt-8 mb-2">Park and Playground</h3>
    <p class="text-gray-700 mb-6 text-sm">Enjoy the perfect balance of convenience, peace, and community living.</p>
    <button class="bg-white px-4 py-2 rounded-full hover:bg-gray-200 text-sm">
      Coming Soon
    </button>
  </div>
</div>

    
    <!-- QR Code Modal -->
    <div id="qrModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
      <div class="bg-[#E6DCD0] w-[90%] max-w-md p-6 rounded-2xl shadow-lg relative">
        <!-- Close Button -->
        <button onclick="closeQRModal()" class="absolute top-4 right-4 text-green-800 text-xl font-bold hover:text-green-600">
          &times;
        </button>

        <!-- Form Container (default view) -->
        <div id="qrFormContainer">
          <h2 class="text-xl font-bold mb-4 text-center">Generate Visitor QR Code</h2>
          <div id="qrError" class="text-red-600 text-sm mb-4 hidden"></div>
          
          <form id="qrGeneratorForm" class="space-y-4 text-left text-sm">
            <!-- Resident Name -->
            <div>
              <label class="font-semibold block text-[#333333] mb-1 text-sm">
                <span class="text-red-500">*</span> Your Name (Resident)
              </label>
              <input type="text" name="resident_name" required class="w-full mt-1 p-2 rounded-md border border-gray-300" placeholder="Your full name">
            </div>

            <!-- Visitor Name -->
            <div>
              <label class="font-semibold block text-[#333333] mb-1 text-sm">
                <span class="text-red-500">*</span> Visitor Name
              </label>
              <input type="text" name="visitor_name" required class="w-full mt-1 p-2 rounded-md border border-gray-300" placeholder="Visitor's full name">
            </div>

            <!-- Residence -->
            <div>
              <label class="font-semibold block text-[#333333] mb-1 text-sm">
                <span class="text-red-500">*</span> Residence to Visit
              </label>
              <input type="text" name="residence" required class="w-full mt-1 p-2 rounded-md border border-gray-300" placeholder="House block and lot number">
            </div>

            <!-- Visit Date -->
            <div>
              <label class="font-semibold block text-[#333333] mb-1 text-sm">
                <span class="text-red-500">*</span> Visit Date
              </label>
              <input type="date" name="visit_date" required class="w-full mt-1 p-2 rounded-md border border-gray-300">
            </div>

            <!-- Purpose -->
            <div>
              <label class="font-semibold block text-[#333333] mb-1 text-sm">
                <span class="text-red-500">*</span> Purpose of Visit
              </label>
              <select name="purpose" required class="w-full mt-1 p-2 rounded-md border border-gray-300">
                <option value="">Select purpose</option>
                <option value="Delivery">Delivery</option>
                <option value="Guest">Guest</option>
                <option value="Maintenance">Maintenance</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <!-- Vehicle -->
            <div>
              <label class="font-semibold">Vehicle (if any)</label>
              <input type="text" name="vehicle" class="w-full mt-1 p-2 rounded-md border border-gray-300" placeholder="Vehicle model and plate number">
            </div>

            <!-- Number of Visitors -->
            <div>
              <label class="font-semibold block text-[#333333] mb-1 text-sm">
                <span class="text-red-500">*</span> Number of Visitors
              </label>
              <input type="number" name="number_of_visitors" min="1" value="1" required class="w-full mt-1 p-2 rounded-md border border-gray-300">
            </div>

            <!-- Submit Button -->
            <div class="text-center pt-2">
              <button type="submit" class="bg-green-500 hover:bg-green-600 text-white font-medium px-6 py-2 rounded-full">
                Generate QR Code
              </button>
            </div>

            <p class="text-xs text-red-600 text-center pt-2">* Indicates required field</p>
          </form>
        </div>

        <!-- QR Display Container (hidden initially) -->
        <div id="qrDisplayContainer" class="hidden text-center">
  <h2 class="text-xl font-bold mb-4">Visitor QR Code</h2>
  <canvas id="qrCanvas" class="mx-auto mb-4 w-48 h-48 bg-white p-2"></canvas>
  <div id="visitorDetails" class="mb-4 text-left"></div>
  <div class="flex justify-center gap-4">
    <button onclick="printQRCode()" class="bg-green-500 hover:bg-green-600 text-white font-medium px-4 py-2 rounded-full">
      Print
    </button>
    <button onclick="newQRCode()" class="bg-gray-500 hover:bg-gray-600 text-white font-medium px-4 py-2 rounded-full">
      New QR
    </button>
  </div>
</div>
</section>
      
      <footer class="bg-[#5F8B4C] text-white py-12 px-8 md:px-20">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-8">
          
          <!-- Left: Logo and Description -->
          <div class="space-y-4">
            <div class="flex items-center gap-2">
              <img src="/pictures/logo 2.png" alt="Logo" class="h-10">
              <span class="text-xl font-bold">Augustine Grove</span>
            </div>
            <p class="text-sm">
              Creating communities that inspire a better way of life. Enjoy the perfect balance of convenience, peace, and community living.
            </p>
          </div>
      
          <!-- Contact Us -->
          <div class="space-y-4">
            <h4 class="font-bold mb-2">Contact us</h4>
            <div class="flex items-center gap-2 text-sm">
              <img src="/pictures/phone_icon.png" alt="Phone" class="h-4 w-4">
              <span>(555) 123-4562</span>
            </div>
            <div class="flex items-center gap-2 text-sm">
              <img src="/pictures/email_icon.png" alt="Email" class="h-4 w-4">
              <a href="mailto:augustinegrove@gmail.com" class="underline">augustinegrove@gmail.com</a>
            </div>
            <div class="flex items-center gap-2 text-sm">
              <img src="/pictures/fb_icon.png" alt="Facebook" class="h-4 w-4">
              <a href="https://www.facebook.com/augustinegroveiloilo" class="underline"><span>Augustine Grove Residential Village</span></a>
            </div>
          </div>
      
          <!-- Quick Links -->
          <div class="space-y-4">
            <h4 class="font-bold mb-2">Quick links</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/index.html" class="hover:underline">Home</a></li>
              <li><a href="/pages/dashboard/aboutpage.html" class="hover:underline">About Us</a></li>
              <li><a href="/pages/dashboard/amenities.html" class="hover:underline">Amenities</a></li>
              <li><a href="/pages/dashboard/announcements.html" class="hover:underline">Announcements / News</a></li>
              <li><a href="/pages/dashboard/aboutpage.html" class="hover:underline">Contact Us</a></li>
              <li><a href="/pages/dashboard/aboutpage.html" class="hover:underline">FAQs</a></li>
            </ul>
          </div>
      
          <!-- Office Hours -->
          <div class="space-y-4">
            <h4 class="font-bold mb-2">Office Hours</h4>
            <ul class="text-sm space-y-1">
              <li>Monday - Friday: 9AM - 5PM</li>
              <li>Saturday: 10AM - 2PM</li>
              <li>Sunday: Closed</li>
            </ul>
          </div>
      
        </div>
      
        <!-- Bottom -->
        <div class="border-t border-white/30 pt-6 text-center text-xs space-x-2">
          <span>Â© 2025 Augustine Grove by Aser's Angels</span>
          <span>|</span>
          <a href="#" class="hover:underline">Terms and Conditions</a>
        </div>
      </footer>
      
 <!-- Scripts -->
 
 <!--sidebar-->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

 <script>
  // Initialize Supabase
    window.supabaseUrl = 'https://bynplwqqzlzfbdrbvuzk.supabase.co';
    window.supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ5bnBsd3Fxemx6ZmJkcmJ2dXprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyNDQ4NDIsImV4cCI6MjA2MjgyMDg0Mn0.w69ANA33wQnVONct7WX-lDrWqFZNWhuV96iHf5AKrXM';
    window.supabase = supabase.createClient(window.supabaseUrl, window.supabaseKey);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

 <script>
 const menuBtn = document.getElementById("menu-btn");
const closeBtn = document.getElementById("close-btn");
const sidebar = document.getElementById("sidebar");

menuBtn.addEventListener("click", () => {
  sidebar.classList.remove("translate-x-full", "hidden");
  sidebar.classList.add("translate-x-0");
});

closeBtn.addEventListener("click", () => {
  sidebar.classList.remove("translate-x-0");
  sidebar.classList.add("translate-x-full");

  // Wait for transition to end before hiding completely
  setTimeout(() => {
    sidebar.classList.add("hidden");
  }, 300); // matches the Tailwind transition duration
});
</script>

<!--profile modal-->
  <script>
  const profileBtn = document.getElementById("profileBtn");
  const profileModal = document.getElementById("profileModal");

  profileBtn.addEventListener("click", () => {
    profileModal.classList.toggle("hidden");
  });

  // Optional: Close when clicking outside
  document.addEventListener("click", (event) => {
    if (!profileBtn.contains(event.target) && !profileModal.contains(event.target)) {
      profileModal.classList.add("hidden");
    }
  });

  function logout() {
    // perform logout logic
    alert("Logging out...");
    // redirect or clear session, etc.
  }
</script>

<!--hero background image slider-->
<script>
  const slider = document.getElementById("slider");
  const dots = document.querySelectorAll("#carousel-dots div");

  const totalSlides = slider.children.length;
  let current = 0;

  setInterval(() => {
    current = (current + 1) % totalSlides;
    slider.style.transform = `translateX(-${current * 100}%)`;

    // Update dots
    dots.forEach((dot, index) => {
      dot.style.backgroundColor = index === current ? "#5F8B4C" : "#FAF1E6";
    });
  }, 4000);
</script>

 

<script>
  // Announcements Functionality
  const carousel = document.getElementById("carousel");
  const template = document.getElementById("announcement-card-template");
  const next = document.getElementById("next");
  const prev = document.getElementById("prev");

  async function loadLatestAnnouncements() {
    try {
      const { data, error } = await supabase
        .from('announcements')
        .select('*')
        .order('date', { ascending: false })
        .limit(5);

      if (error) throw error;

      if (!data || data.length === 0) {
        carousel.innerHTML = `
          <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded">
            No announcements found.
          </div>
        `;
        return;
      }

      data.forEach((announcement) => {
        const clone = template.content.cloneNode(true);
        const img = clone.querySelector(".announcement-img");
        img.src = announcement.image_url || "/pictures/default-announcement.png";
        img.alt = announcement.title;
        
        clone.querySelector(".announcement-title").textContent = announcement.title;
        clone.querySelector(".announcement-description").textContent = 
          announcement.description.length > 100 
            ? announcement.description.substring(0, 100) + "..." 
            : announcement.description;
            
        clone.querySelector(".announcement-date").textContent = 
          announcement.date ? new Date(announcement.date).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'short',
            day: 'numeric'
          }) : 'No date';
          
        clone.querySelector(".announcement-readmore").href = 
          `/pages/dashboard/announcement_detail.html?id=${announcement.id}`;
          
        // Hide read more if description is short
        if (announcement.description.length <= 100) {
          clone.querySelector(".announcement-readmore").style.display = 'none';
        }
        
        carousel.appendChild(clone);
      });

    } catch (err) {
      console.error("Error loading announcements:", err);
      carousel.innerHTML = `
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
          Failed to load announcements. Please try again later.
        </div>
      `;
    }
  }

  // Carousel Scroll Function
  next.addEventListener("click", () => {
    carousel.scrollBy({ left: 350, behavior: "smooth" });
  });

  prev.addEventListener("click", () => {
    carousel.scrollBy({ left: -350, behavior: "smooth" });
  });

  // Load announcements when page is ready
  document.addEventListener('DOMContentLoaded', loadLatestAnnouncements);
</script>

<!-- Scripts -->

  <script>

    // QR Code Functions
    let currentQRCodeData = null;

    function openQRModal() {
      document.getElementById('qrModal').classList.remove('hidden');
      document.getElementById('qrFormContainer').classList.remove('hidden');
      document.getElementById('qrDisplayContainer').classList.add('hidden');
      document.getElementById('qrError').classList.add('hidden');
      
      // Set minimum date to today
      const today = new Date().toISOString().split('T')[0];
      document.querySelector('input[name="visit_date"]').min = today;
    }

    function closeQRModal() {
      document.getElementById('qrModal').classList.add('hidden');
    }

    async function generateQRCode(event) {
  event.preventDefault();
  
  const form = event.target;
  const formData = new FormData(form);
  const visitorData = Object.fromEntries(formData.entries());
  
  // Validate date
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  const visitDate = new Date(visitorData.visit_date);
  
  if (visitDate < today) {
    showQRError("Visit date cannot be in the past");
    return;
  }

  try {
    // Show loading state
    const submitBtn = form.querySelector('button[type="submit"]');
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Generating...';
    
    // Prepare visitor data
    currentQRCodeData = {
      resident: visitorData.resident_name,
      visitor: visitorData.visitor_name,
      residence: visitorData.residence,
      date: visitorData.visit_date,
      purpose: visitorData.purpose,
      vehicle: visitorData.vehicle || null,
      visitors: visitorData.number_of_visitors,
      code: `visitor-${Math.random().toString(36).substring(2, 15)}`,
      generated_at: new Date().toISOString(),
      community: "Augustine Grove"
    };

    // Generate QR code - FIXED VERSION
    const canvas = document.getElementById('qrCanvas');
    canvas.width = 200;
    canvas.height = 200;
    
    // Clear previous QR code
    const ctx = canvas.getContext('2d');
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    await QRCode.toCanvas(canvas, JSON.stringify(currentQRCodeData), {
      width: 200,
      errorCorrectionLevel: 'H',
      margin: 1,
      color: {
        dark: '#5F8B4C',
        light: '#FAF1E6'
      }
    });

    // Save to database
    const { data, error } = await window.supabase
      .from('visitors')
      .insert([{
        resident_name: visitorData.resident_name.trim(),
        full_name: visitorData.visitor_name.trim(),
        residence_to_visit: visitorData.residence.trim(),
        visit_date: visitorData.visit_date,
        purpose: visitorData.purpose,
        vehicle_info: visitorData.vehicle?.trim() || null,
        number_of_visitors: visitorData.number_of_visitors,
        qr_code: currentQRCodeData.code,
        qr_data: currentQRCodeData,
        is_active: true
      }])
      .select();

    if (error) throw error;

    // Show success UI
    document.getElementById('visitorDetails').innerHTML = `
      <div class="bg-white/80 p-4 rounded-lg">
        <p class="font-semibold text-[#5F8B4C] mb-2">Visitor Information</p>
        <p><span class="font-medium">Name:</span> ${visitorData.visitor_name}</p>
        <p><span class="font-medium">Resident:</span> ${visitorData.resident_name}</p>
        <p><span class="font-medium">Residence:</span> ${visitorData.residence}</p>
        <p><span class="font-medium">Visit Date:</span> ${new Date(visitorData.visit_date).toLocaleDateString()}</p>
        <p><span class="font-medium">Purpose:</span> ${visitorData.purpose}</p>
        ${visitorData.vehicle ? `<p><span class="font-medium">Vehicle:</span> ${visitorData.vehicle}</p>` : ''}
        <p><span class="font-medium">Visitors:</span> ${visitorData.number_of_visitors}</p>
      </div>
    `;

    document.getElementById('qrFormContainer').classList.add('hidden');
    document.getElementById('qrDisplayContainer').classList.remove('hidden');
    hideQRError();

  } catch (error) {
    console.error('QR generation failed:', error);
    showQRError('Failed to generate QR code. Please try again.');
    
    // Clean up any partial QR code
    const canvas = document.getElementById('qrCanvas');
    if (canvas) {
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }
  } finally {
    const submitBtn = form.querySelector('button[type="submit"]');
    if (submitBtn) {
      submitBtn.disabled = false;
      submitBtn.textContent = 'Generate QR Code';
    }
  }
}


    function showQRError(message) {
      const errorElement = document.getElementById('qrError');
      errorElement.textContent = message;
      errorElement.classList.remove('hidden');
    }

    function hideQRError() {
      const errorElement = document.getElementById('qrError');
      errorElement.classList.add('hidden');
    }

   function printQRCode() {
  if (!currentQRCodeData) return;
  const canvas = document.getElementById('qrCanvas');
  if (!canvas) return;
  
  const printWindow = window.open('', '_blank');
  printWindow.document.write(`
    <html><head><title>Visitor Pass</title></head>
    <body style="font-family: Arial; text-align: center;">
      <h2>Augustine Grove Visitor Pass</h2>
      <img src="${canvas.toDataURL()}" 
           style="width: 200px; height: 200px;">
      <div style="text-align: left; margin: 20px auto; width: 80%;">
        <p><strong>Visitor:</strong> ${currentQRCodeData.visitor}</p>
        <p><strong>Resident:</strong> ${currentQRCodeData.resident}</p>
        <p><strong>Valid:</strong> ${new Date(currentQRCodeData.date).toLocaleDateString()}</p>
      </div>
    </body></html>
  `);
  
  printWindow.document.close();
  setTimeout(() => printWindow.print(), 300);
};

    function newQRCode() {
      document.getElementById('qrGeneratorForm').reset();
      document.getElementById('qrDisplayContainer').classList.add('hidden');
      document.getElementById('qrFormContainer').classList.remove('hidden');
      currentQRCodeData = null;
    };

    // Initialize form submission
    document.addEventListener('DOMContentLoaded', function() {
      const qrForm = document.getElementById('qrGeneratorForm');
      if (qrForm) {
        qrForm.addEventListener('submit', generateQRCode);
      }
    });

    // Initialize AOS
    AOS.init();
  </script>

  </body>
  
  </html>
