<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link  href="../dist/output.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />


<title>Augustine Grove</title>
</head>
<body class="bg-[#FAF1E6]">

<!-- Nav BAr -->
<nav class="sticky top-0 z-50 flex items-center justify-between bg-[#5F8B4C] px-4 md:px-6 py-2 text-white backdrop-blur-sm">
  <a href="main.html" class="flex items-center gap-2">
    <img src="/pictures/logo 2.png" alt="Logo" class="h-8 w-auto md:h-12 lg:h-16">
    <div class="flex-row items-start">
    <span class="text-lg md:text-2xl font-bold">AUGUSTINE GROVE</span>
    <!-- Admin Badge beside logo or user -->
<div class="gap-2 text-base font-bold">
  ADMIN
</div>
</div>

  </a>

  <!-- Hamburger Button -->
  <button id="menu-btn" class="block md:hidden focus:outline-none transition-transform duration-300" aria-label="Toggle Menu">
    <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
  </button>

  <!-- Desktop Menu -->
  <div id="menu-desktop" class="hidden md:flex flex-row items-center gap-6">
    <ul class="flex flex-row gap-8 text-md font-semibold font-poppins">
      <li><a href="announcements.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Announcements</a></li>
      <li><a href="amenities.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Amenities</a></li>
      <li><a href="gallery.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Gallery</a></li>
      <li><a href="aboutpage.html" class="hover:text-[#FFDDAB] transition-colors duration-200">About</a></li>
    </ul>

  
    <!--profile button-->
<div class="relative">
  <button id="profileBtn" class="focus:outline-none">
    <img src="/pictures/profile.png" alt="Profile" class="h-8 w-8 rounded-full">
  </button>

  <!-- Modal Dropdown -->
  <div id="profileModal" class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg hidden z-50">
   <!--
    <a href="profile.html" class="flex items-center gap-2 px-4 py-2 text-sm text-gray-700 font-bold hover:bg-gray-100">
      <img src="/pictures/profilegreen_icon.png" alt="Profile" class="h-6 w-6">
      Profile
    </a>  -->
    <button onclick="logout()" class="flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 font-bold hover:bg-gray-100">
      <img src="/pictures/logout_icon.png" alt="Logout" class="h-5 w-5">
      Log Out
    </button>
  </div>
</div>

  </div>

  <!-- Mobile Slide-in Menu -->
  <div id="sidebar" class="fixed top-0 right-0 h-screen w-2/3 bg-white overflow-y-auto transform translate-x-full transition-transform duration-300 z-50 shadow-lg md:hidden pointer-events-none">

    <div class="flex items-center justify-between p-4 border-b border-gray-300">
      <h2 class="text-lg font-bold text-[#5F8B4C]">Menu</h2>
      <button id="close-btn" class="text-[#5F8B4C]">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Profile Card -->
    <div class="bg-[#FAF1E6] rounded-xl shadow-md mx-6 my-6 p-4 flex items-center gap-4">
      <img src="/pictures/profilegreen_icon.png" alt="Profile Icon" class="h-10 w-10 rounded-full object-cover">
      <div class="text-left">
        <p class="font-semibold text-[#5F8B4C]">John Smith</p>
      </div>
    </div>

    <!-- Nav Links -->
    <ul class="flex flex-col gap-6 text-[#5F8B4C] font-semibold px-8">
      <li><a href="announcements.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Announcements</a></li>
      <li><a href="amenities.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Amenities</a></li>
      <li><a href="gallery.html" class="hover:text-[#FFDDAB] transition-colors duration-200">Gallery</a></li>
      <li><a href="aboutpage.html" class="hover:text-[#FFDDAB] transition-colors duration-200">About</a></li>
    </ul>
    

<!-- Bottom Log Out Button -->
<div class="w-full text-center mt-20 mb-6">
  <button class="bg-[#FAF1E6] text-[#5F8B4C] px-6 py-2 rounded-full hover:bg-green-700 font-semibold w-32">
    Log Out
  </button>
  </div>
  
</div>
</nav>

 <div class="flex justify-between items-center py-6 w-full ">
  <h1 class="flex items-start md:text-2xl text-xl text-[#333333] font-bold sm:px-10 md:px-20">Booking Requests</h1>
   <!-- ðŸ”™ Back button -->
  <div class="px-6 py-2">
  <button onclick="history.back()" class="text-xl text-[#5F8B4C] hover:text-[#FFDDAB] transition-colors duration-200 font-bold">
    <i class="fa-solid fa-xmark"></i>
  </button>
</div>
</div>
<!-- ðŸ“¦ Booking Container -->
<div id="booking-container" class="px-4 sm:px-10 md:px-20 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>

<!-- âœ… Template (hidden until cloned in JS) -->
<template id="booking-card-template">
  <div class="bg-[#E6DCD0] rounded-xl shadow-md p-6 relative transition hover:shadow-lg">
    <!-- Status Badge -->
    <div class="absolute top-4 right-4 flex items-center gap-2 text-sm font-semibold px-3 py-1 rounded-full status-section">
      <i class="status-icon"></i>
      <span class="status-text capitalize"></span>
    </div>

    <!-- Booking Details -->
    <h2 class="text-lg font-bold text-[#333] mb-2 amenity-name"></h2>

    <div class="text-sm text-gray-700 space-y-1">
      <p><strong>First Name:</strong> <span class="first-name"></span></p>
      <p><strong>Last Name:</strong> <span class="last-name"></span></p>
      <p><strong>Contact Number:</strong> <span class="contact-number"></span></p>
      <p><strong>Email:</strong> <span class="email"></span></p>
      <p><strong>Amenity:</strong> <span class="amenity-name"></span></p>
      <p><strong>Date:</strong> <span class="date"></span></p>
      <p><strong>Time:</strong> <span class="time"></span></p>
      <p><strong>Purpose:</strong> <span class="purpose"></span></p>
      <p><strong>Visitors:</strong> <span class="visitors"></span></p>
      <p><strong>Resident/Guest:</strong> <span class="resident-type"></span></p>
      <p><strong>Notes:</strong> <span class="notes"></span></p>
    </div>

    <!-- Action Buttons -->
    <div class="mt-6 flex justify-end gap-3">
      <button class="approve-btn border px-4 py-2 rounded-xl text-sm shadow-md hidden bg-[#FAF1E6]">
        Approve
      </button>
      <button class="reject-btn border px-4 py-2 rounded-xl text-sm shadow-md bg-[#FAF1E6]">
        Reject
      </button>
    </div>
  </div>
</template>


<script>
  const bookings = [
    {
      amenity: "Clubhouse",
      firstName: "John",
      lastName: "Doe",
      contact: "09171234567",
      email: "john@example.com",
      date: "2025-05-20",
      time: "2:00 PM - 4:00 PM",
      purpose: "Birthday party",
      visitors: 30,
      residentType: "Resident",
      notes: "Request for extra chairs",
      status: "pending",
    },
    {
      amenity: "Swimming Pool",
      firstName: "Jane",
      lastName: "Smith",
      contact: "09179876543",
      email: "jane@example.com",
      date: "2025-05-21",
      time: "10:00 AM - 12:00 PM",
      purpose: "Family gathering",
      visitors: 15,
      residentType: "Guest",
      notes: "",
      status: "pending",
    },
    {
      amenity: "Basketball Court",
      firstName: "Mark",
      lastName: "Tan",
      contact: "09178889999",
      email: "marktan@example.com",
      date: "2025-05-22",
      time: "5:00 PM - 7:00 PM",
      purpose: "Friendly game",
      visitors: 10,
      residentType: "Resident",
      notes: "Need scoreboard access",
      status: "rejected",
    },
  ];

  const statusIcons = {
    approved: "fa-solid fa-circle-check text-green-600",
    pending: "fa-solid fa-hourglass-half text-yellow-500",
    rejected: "fa-solid fa-circle-xmark text-red-600",
  };

  const container = document.getElementById("booking-container");
  const template = document.getElementById("booking-card-template");

  function renderBookings() {
    container.innerHTML = "";
    bookings.sort((a, b) => new Date(a.date) - new Date(b.date));
    const today = new Date().toISOString().split("T")[0];

    bookings.forEach((booking, index) => {
      const clone = template.content.cloneNode(true);
      const card = clone.querySelector("div");

      // Fill booking data
      clone.querySelector(".amenity-name").textContent = booking.amenity;
      clone.querySelector(".first-name").textContent = booking.firstName;
      clone.querySelector(".last-name").textContent = booking.lastName;
      clone.querySelector(".contact-number").textContent = booking.contact;
      clone.querySelector(".email").textContent = booking.email;
      clone.querySelector(".date").textContent = booking.date;
      clone.querySelector(".time").textContent = booking.time;
      clone.querySelector(".purpose").textContent = booking.purpose;
      clone.querySelector(".visitors").textContent = booking.visitors;
      clone.querySelector(".resident-type").textContent = booking.residentType;
      clone.querySelector(".notes").textContent = booking.notes || "None";

      // Status icon + label
      const icon = clone.querySelector(".status-icon");
      const text = clone.querySelector(".status-text");
      icon.className = statusIcons[booking.status] || "fa-solid fa-question-circle text-gray-400";
      text.textContent = booking.status.charAt(0).toUpperCase() + booking.status.slice(1);

      // Show buttons or status
      const approveBtn = clone.querySelector(".approve-btn");
      const rejectBtn = clone.querySelector(".reject-btn");
      const statusSection = clone.querySelector(".status-section");

      if (booking.status === "pending") {
        approveBtn.classList.remove("hidden");
        rejectBtn.classList.remove("hidden");
        statusSection.classList.add("hidden");

        approveBtn.addEventListener("click", () => {
          bookings[index].status = "approved";
          renderBookings();
        });

        rejectBtn.addEventListener("click", () => {
          bookings[index].status = "rejected";
          renderBookings();
        });
      } else {
        approveBtn.classList.add("hidden");
        rejectBtn.classList.add("hidden");
        statusSection.classList.remove("hidden");
      }

      // Highlight today
      if (booking.date === today) {
        card.classList.add("border", "border-blue-500");
      }

      container.appendChild(clone);
    });
  }

  renderBookings();
</script>



</body>
</html>